{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Szilard\\\\Documents\\\\proi\\\\ux-ui-frontpage\\\\src\\\\pages\\\\LoginPage.tsx\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LoginPage = () => {\n  _s();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [errorMsg, setErrorMsg] = useState(\"\");\n  const navigate = useNavigate();\n  const handleLogin = async e => {\n    e.preventDefault();\n    setErrorMsg(\"\");\n\n    // validare email\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    if (!emailRegex.test(email)) {\n      setErrorMsg(\"Te rog introdu un email valid.\");\n      return;\n    }\n    try {\n      const response = await axios.post(\"https://localhost:7239/api/Auth/login\", {\n        Email: email,\n        Parola: password\n      });\n      const user = response.data;\n      console.log(\"Autentificat:\", user);\n      localStorage.setItem(\"clientId\", user.idClient);\n      navigate(\"/profile\");\n    } catch (err) {\n      console.error(err);\n      if (err.response) {\n        switch (err.response.status) {\n          case 401:\n            setErrorMsg(\"Parola incorecta.\");\n            break;\n          case 404:\n            setErrorMsg(\"Acest cont nu există.\");\n            break;\n          case 400:\n            setErrorMsg(\"Email și parola sunt obligatorii.\");\n            break;\n          default:\n            setErrorMsg(\"A apărut o eroare. Încearcă din nou.\");\n        }\n      } else {\n        setErrorMsg(\"Serverul nu răspunde.\");\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen flex items-center justify-center px-6 bg-gradient-to-r from-blue-400 via-purple-500 to-pink-500\",\n    style: {\n      fontFamily: \"'Poppins', sans-serif\"\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white/30 backdrop-blur-md rounded-3xl shadow-lg max-w-md w-full p-10\\r border border-white/40 hover:shadow-2xl transition-shadow duration-500\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-4xl font-extrabold text-transparent bg-clip-text\\r bg-gradient-to-r from-purple-700 via-indigo-800 to-pink-700 mb-10 text-center drop-shadow-md\",\n        children: \"Autentificare Pasager\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleLogin,\n        className: \"space-y-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          placeholder: \"Email\",\n          className: \"w-full p-4 rounded-lg border border-gray-300 bg-white bg-opacity-70\\r focus:outline-none focus:ring-4 focus:ring-indigo-500 focus:border-indigo-600\\r transition duration-300\",\n          value: email,\n          onChange: e => setEmail(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          placeholder: \"Parol\\u0103\",\n          className: \"w-full p-4 rounded-lg border border-gray-300 bg-white bg-opacity-70\\r focus:outline-none focus:ring-4 focus:ring-indigo-500 focus:border-indigo-600\\r transition duration-300\",\n          value: password,\n          onChange: e => setPassword(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), errorMsg && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-red-600 text-sm font-medium\",\n          children: errorMsg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"w-full py-3 rounded-lg bg-gradient-to-r from-indigo-600 via-indigo-700 to-indigo-800\\r text-white font-semibold text-lg shadow-md hover:from-indigo-700 hover:via-indigo-800 hover:to-indigo-900\\r active:scale-95 transition-transform duration-150\",\n          children: \"Autentific\\u0103-te\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mt-8 text-center text-gray-200\",\n        children: [\"Nu ai cont?\", \" \", /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/register\",\n          className: \"text-indigo-300 hover:text-indigo-100 hover:underline font-semibold\",\n          children: \"\\xCEnregistreaz\\u0103-te aici\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n};\n_s(LoginPage, \"6Itx/69UiAfa6hgX+RbKnXqDmkI=\", false, function () {\n  return [useNavigate];\n});\n_c = LoginPage;\nexport default LoginPage;\nvar _c;\n$RefreshReg$(_c, \"LoginPage\");","map":{"version":3,"names":["useState","useNavigate","axios","jsxDEV","_jsxDEV","LoginPage","_s","email","setEmail","password","setPassword","errorMsg","setErrorMsg","navigate","handleLogin","e","preventDefault","emailRegex","test","response","post","Email","Parola","user","data","console","log","localStorage","setItem","idClient","err","error","status","className","style","fontFamily","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","placeholder","value","onChange","target","required","href","_c","$RefreshReg$"],"sources":["C:/Users/Szilard/Documents/proi/ux-ui-frontpage/src/pages/LoginPage.tsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nconst LoginPage = () => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [errorMsg, setErrorMsg] = useState(\"\");\r\n  const navigate = useNavigate();\r\n\r\n const handleLogin = async (e: React.FormEvent) => {\r\n  e.preventDefault();\r\n  setErrorMsg(\"\");\r\n\r\n  // validare email\r\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n  if (!emailRegex.test(email)) {\r\n    setErrorMsg(\"Te rog introdu un email valid.\");\r\n    return;\r\n  }\r\n\r\n  try {\r\n    const response = await axios.post(\r\n      \"https://localhost:7239/api/Auth/login\",\r\n      {\r\n        Email: email,\r\n        Parola: password,\r\n      }\r\n    );\r\n    const user = response.data;\r\n    console.log(\"Autentificat:\", user);\r\n\r\n    localStorage.setItem(\"clientId\", user.idClient);\r\n    navigate(\"/profile\");\r\n\r\n  } catch (err: any) {\r\n    console.error(err);\r\n    if (err.response) {\r\n      switch (err.response.status) {\r\n        case 401:\r\n          setErrorMsg(\"Parola incorecta.\");\r\n          break;\r\n        case 404:\r\n          setErrorMsg(\"Acest cont nu există.\");\r\n          break;\r\n        case 400:\r\n          setErrorMsg(\"Email și parola sunt obligatorii.\");\r\n          break;\r\n        default:\r\n          setErrorMsg(\"A apărut o eroare. Încearcă din nou.\");\r\n      }\r\n    } else {\r\n      setErrorMsg(\"Serverul nu răspunde.\");\r\n    }\r\n  }\r\n};\r\n\r\n\r\n  return (\r\n    <div\r\n      className=\"min-h-screen flex items-center justify-center px-6 bg-gradient-to-r from-blue-400 via-purple-500 to-pink-500\"\r\n      style={{ fontFamily: \"'Poppins', sans-serif\" }}\r\n    >\r\n      <div\r\n        className=\"bg-white/30 backdrop-blur-md rounded-3xl shadow-lg max-w-md w-full p-10\r\n          border border-white/40 hover:shadow-2xl transition-shadow duration-500\"\r\n      >\r\n        <h2\r\n          className=\"text-4xl font-extrabold text-transparent bg-clip-text\r\n            bg-gradient-to-r from-purple-700 via-indigo-800 to-pink-700 mb-10 text-center drop-shadow-md\"\r\n        >\r\n          Autentificare Pasager\r\n        </h2>\r\n        <form onSubmit={handleLogin} className=\"space-y-6\">\r\n          <input\r\n            type=\"email\"\r\n            placeholder=\"Email\"\r\n            className=\"w-full p-4 rounded-lg border border-gray-300 bg-white bg-opacity-70\r\n              focus:outline-none focus:ring-4 focus:ring-indigo-500 focus:border-indigo-600\r\n              transition duration-300\"\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n            required\r\n          />\r\n          <input\r\n            type=\"password\"\r\n            placeholder=\"Parolă\"\r\n            className=\"w-full p-4 rounded-lg border border-gray-300 bg-white bg-opacity-70\r\n              focus:outline-none focus:ring-4 focus:ring-indigo-500 focus:border-indigo-600\r\n              transition duration-300\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            required\r\n          />\r\n          {errorMsg && (\r\n            <p className=\"text-red-600 text-sm font-medium\">{errorMsg}</p>\r\n          )}\r\n          <button\r\n            type=\"submit\"\r\n            className=\"w-full py-3 rounded-lg bg-gradient-to-r from-indigo-600 via-indigo-700 to-indigo-800\r\n              text-white font-semibold text-lg shadow-md hover:from-indigo-700 hover:via-indigo-800 hover:to-indigo-900\r\n              active:scale-95 transition-transform duration-150\"\r\n          >\r\n            Autentifică-te\r\n          </button>\r\n        </form>\r\n        <p className=\"mt-8 text-center text-gray-200\">\r\n          Nu ai cont?{\" \"}\r\n          <a\r\n            href=\"/register\"\r\n            className=\"text-indigo-300 hover:text-indigo-100 hover:underline font-semibold\"\r\n          >\r\n            Înregistrează-te aici\r\n          </a>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}